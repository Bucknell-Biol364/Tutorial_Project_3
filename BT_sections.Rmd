---
title: "BT_sections"
author: "Ben Travis"
date: "2/15/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
if (!require("tidyverse")) install.packages("tidyverse"); library(tidyverse)
if (!require("readr")) install.packages("readr"); library(readr)
```

```{r}
library(readr)
Covid_19<-read_csv("Provisional_COVID-19_Deaths_by_Sex_and_Age.csv")
str(Covid_19)
```

```{r}
library(dplyr)
Covid_19$State<-as_factor(Covid_19$State)
nlevels(Covid_19$State)
summary(Covid_19$State)

```

```{r}
Covid_19.Alltime<-filter(Covid_19, Group == "By Total")
Covid_19.Alltime.State1<-filter(Covid_19.Alltime, State != "United States")
Covid_19.Alltime.State2<-filter(Covid_19.Alltime.State1, State != "District of Columbia")
Covid_19.Alltime.State3<-filter(Covid_19.Alltime.State2, State != "New York City")
Covid_19.Alltime.State4<-filter(Covid_19.Alltime.State3, State != "Puerto Rico")
table(Covid_19.Alltime.State4$State)
nlevels(Covid_19.Alltime.State4$State) #why do the factor levels stay in the data set but the values disappear

#why doesnt something like this work:
#Covid_19.Alltime.State1<-filter(Covid_19.Alltime, State != c("United States", "District of Columbia", "New York City", "Puerto Rico"))
#am I missing an %in% symbol? Because this works to pull values, just not remove
```

```{r}
Covid_19.AT.S4.A<-filter(Covid_19.Alltime.State4, Sex == "All Sexes")
Covid_19.AT.S4.B<-filter(Covid_19.AT.S4.A, `Age Group` == "All Ages")

#Covid_19.AT.S4.All<-filter(Covid_19.Alltime.State4, Sex == "All Sexes") %>%
  #filter(Covid_19.Alltime.State4, `Age Group` == "All Ages")
#why wouldnt this pipeline work
```


```{r}
library(dplyr)
arrange(Covid_19.AT.S4.B,desc(`COVID-19 Deaths`))
head(Covid_19.AT.S4.B, 10)

```








